{% extends "base.html" %} {% block title %}Báo cáo chi tiêu{% endblock %} {% block content %} <h3
  class="mb-4 fw-semibold"> <i class="bi bi-bar-chart-line me-2"></i> Báo cáo chi tiêu </h3>
<div class="row g-3 mb-4">
  <div class="col-md-4">
    <div class="card info-card income-card border-0 shadow-sm">
      <div class="card-body">
        <div class="text-muted small text-uppercase mb-1">Tổng thu</div>
        <h3>{{ "{:,.0f}".format(total_income) }}</h3>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card info-card expense-card border-0 shadow-sm">
      <div class="card-body">
        <div class="text-muted small text-uppercase mb-1">Tổng chi</div>
        <h3>{{ "{:,.0f}".format(total_expense) }}</h3>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card info-card balance-card border-0 shadow-sm">
      <div class="card-body">
        <div class="text-muted small text-uppercase mb-1">Số dư</div>
        <h3>{{ "{:,.0f}".format(balance) }}</h3>
      </div>
    </div>
  </div>
</div>
<h4 class="fw-semibold mb-3"> <i class="bi bi-collection me-2"></i>Chi tiêu theo danh mục </h4>
<div class="card shadow-sm border-0">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table mb-0">
        <thead class="table-light">
          <tr>
            <th>Danh mục</th>
            <th class="text-end">Tổng chi</th>
          </tr>
        </thead>
        <tbody> {% for name, total in category_stats %} <tr>
            <td>{{ name }}</td>
            <td class="text-end">{{ "{:,.0f}".format(total) }}</td>
          </tr> {% else %} <tr>
            <td colspan="2" class="text-center text-muted py-3">Chưa có dữ liệu.</td>
          </tr> {% endfor %} </tbody>
      </table>
    </div>
  </div>
</div> {% endblock %}



